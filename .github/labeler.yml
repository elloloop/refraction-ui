# Auto-labeling rules for PRs
# Based on project structure and common patterns

# Track-based labels
track/ci:
  - changed-files:
      - any-glob-to-any-file:
          [
            ".github/workflows/**",
            "scripts/**",
            "turbo.json",
            "package.json",
            "pnpm-lock.yaml",
          ]

track/release:
  - changed-files:
      - any-glob-to-any-file:
          [".changeset/**", "docs/release-checklist.md", "package.json"]

track/cli:
  - changed-files:
      - any-glob-to-any-file:
          ["packages/cli/**", "templates/**", "docs/contracts/cli-spec.md"]

track/components:
  - changed-files:
      - any-glob-to-any-file:
          [
            "packages/react/**",
            "packages/engines/**",
            "docs/contracts/component-api.md",
          ]

track/tokens:
  - changed-files:
      - any-glob-to-any-file:
          [
            "packages/tokens-core/**",
            "docs/contracts/tokens-schema.md",
            "docs/contracts/schemas/tokens.schema.json",
          ]

track/mcp:
  - changed-files:
      - any-glob-to-any-file:
          [
            "packages/mcp-server/**",
            "docs/contracts/mcp-tools.md",
            "docs/contracts/schemas/mcp-tools.schema.json",
          ]

track/docs:
  - changed-files:
      - any-glob-to-any-file:
          ["docs/**", "README.md", "CONTRIBUTING.md", "CODE_OF_CONDUCT.md"]

track/storybook:
  - changed-files:
      - any-glob-to-any-file:
          [
            ".storybook/**",
            "packages/*/stories/**",
            "docs/contracts/adr-0002-storybook-playground.md",
          ]

# Size-based labels
size/XS:
  - changed-files:
      - any-glob-to-any-file:
          ["**/*.md", "**/*.json", "**/*.yml", "**/*.yaml", "**/*.txt"]

size/S:
  - changed-files:
      - any-glob-to-any-file:
          [
            "packages/*/src/**/*.ts",
            "packages/*/src/**/*.tsx",
            "scripts/**/*.js",
            "scripts/**/*.ts",
          ]

size/M:
  - changed-files:
      - any-glob-to-any-file:
          ["packages/*/src/**/*.ts", "packages/*/src/**/*.tsx"]

size/L:
  - changed-files:
      - any-glob-to-any-file:
          ["packages/*/src/**/*.ts", "packages/*/src/**/*.tsx"]

size/XL:
  - changed-files:
      - any-glob-to-any-file:
          ["packages/*/src/**/*.ts", "packages/*/src/**/*.tsx"]

# Type-based labels
type/bug:
  - changed-files:
      - any-glob-to-any-file: ["**/fix/**", "**/bug/**", "**/issue/**"]

type/feature:
  - changed-files:
      - any-glob-to-any-file: ["**/feat/**", "**/feature/**", "**/add/**"]

type/chore:
  - changed-files:
      - any-glob-to-any-file:
          ["**/chore/**", "**/ci/**", "**/build/**", "**/deps/**"]

type/docs:
  - changed-files:
      - any-glob-to-any-file: ["**/docs/**", "**/readme/**", "**/*.md"]

type/refactor:
  - changed-files:
      - any-glob-to-any-file: ["**/refactor/**", "**/cleanup/**"]

type/test:
  - changed-files:
      - any-glob-to-any-file:
          ["**/test/**", "**/spec/**", "**/*.test.*", "**/*.spec.*"]

# Priority labels
priority/high:
  - changed-files:
      - any-glob-to-any-file:
          ["**/security/**", "**/critical/**", "**/urgent/**"]

priority/medium:
  - changed-files:
      - any-glob-to-any-file: ["**/important/**"]

priority/low:
  - changed-files:
      - any-glob-to-any-file: ["**/nice-to-have/**", "**/enhancement/**"]

# Breaking change detection
breaking:
  - changed-files:
      - any-glob-to-any-file: ["**/breaking/**", "**/major/**"]
  - title: ["BREAKING CHANGE", "breaking change"]

# Accessibility
a11y:
  - changed-files:
      - any-glob-to-any-file:
          [
            "**/a11y/**",
            "**/accessibility/**",
            "**/axe/**",
            "packages/*/src/**/*.tsx",
            "packages/*/stories/**",
          ]

# Performance
performance:
  - changed-files:
      - any-glob-to-any-file:
          [
            "**/perf/**",
            "**/performance/**",
            "**/optimize/**",
            "scripts/size-check.js",
          ]
